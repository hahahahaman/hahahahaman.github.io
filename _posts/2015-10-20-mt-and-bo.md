---
layout: post
title: Breakout and Matrix Transforms
---

## Playing around with OpenGL

I've been working through parts of OpenGL [tutorial](http://learnopengl.com) for
some time, converting the C++ into Common Lisp. OpenGL is pretty annoying just
because defining the behavior has to be specific; I spent some days looking for
one or two omissions in my code, which were the difference between what I
expected and a blank screen. The author writes straightforward tutorials, but
I've noticed while following them that there is something about the stylistic
approach which drives me to write it another way. I think that since I'm taking
a more active role in following the tutorial, by basically rewriting the code, I
spend more time pondering the structure and I end up with different
idiosyncrasies. Basically, now I can scan through the author's code to get a
picture of what is being done, and then I try to recreate it. This process is
slow, thus it feels unrewarding while doing it, but eventually I feel some kind
of satisfaction with the work.

It's been several months since I first touched OpenGL and in that time I've
changed the way I look at abstractions. I'm trying more and more to give up
classes and structs, replacing them with data structures, like associative
arrays. Using raw data structures in prototypes helps with bottom-up
programming. I think I first encountered an explicit definition of the concept
in [On Lisp](http://www.paulgraham.com/onlisp.html) and I think it's the basis
of the message of
[Structures and Interpretations of Computer Programs](https://mitpress.mit.edu/sicp/).
So bottom up is about exploring problems by building little part that eventually
construct something that fits the over-arcing problem. My new found opinion is
that classes are clunky to use while exploring, because they imply a
pattern. Something much simpler and more flexible is to just keep track of
relationships by adding a key-value pair to a hash-table and then look it up.

## More interactive programming

Something I really like about Common Lisp, SLIME, and Emacs (I'm using
[Spacemacs](https://github.com/syl20bnr/spacemacs)) is their responsiveness, in
comparison to stuff I used before like C++, Java,.... I was pretty impressed by
how nice web development is in terms of seeing changes as they are made. When I
was making this site I used the Firefox HTML/CSS developer tools, which allowed
me to test out color schemes and layouts, and I installed a plugin that
refreshes my page whenever I save my file. I've also seen things like react.js,
which I don't really know much about, but I can see that it changes the
application as the code changes.

I was fascinated by Bret Victors videos, especially
[Inventing on Principle](https://vimeo.com/36579366), which in turn inspired a
lot of stuff, notably the editor for
[Frogatto & Friends](https://www.youtube.com/watch?v=ri614C_Buwg).

In the few months I was working on the breakout clone, the game itself was not
that important, and looking back, that decision seems somewhat like a mistake,
since I got rather disappointing results in terms of the game, but there were
things that did interest me and kept me working on it. At the time I was puzzled
by how to implement time-traveling debugging, entity component systems, and
functional programming. I've incorporated and played around with bits of all of
that in the making of [bo](https://github.com/hahahahaman/clglbo).

The new features allow me to more flexibly program games, since I can keep
the game running constantly, while I add changes with Common Lisp's incremental
compilation, and I can rewind the game itself to look at the results of the new
behavior and track down bugs and such. SBCL has a nice inspector I can use to
look at objects at run time, and I can use the REPL to test out code snippets.
It's really quite different from the way I programmed C++, which was hassle in
terms of making incremental changes and experimenting.

In terms of better code comprehension I've seen stuff that I might be interested
in; [visual-cells](https://github.com/cuichaox/visual-cells) seems promising,
and Johnathan Blow seems to be playing around with ideas in
[Jai](https://www.youtube.com/watch?v=OHZwYYW9koI). I think I've read claims
somewhere that smalltalk has had some kind of code-editor-graphics cohesion for
40 years already.

## Prototyping matrix transforms

Inspired by
[Hexcells Infinite](http://www.matthewbrowngames.com/hexcellsinfinite.html), I
had the concept of a simple puzzle game that had non-trivial problems that could
increase in complexity pretty easily. The game,
[mt](http://hahahahaman.itch.io/mt), is really quite stupid, since the problem
is rather simple. I think it really gets into trouble with its convoluted
presentation.

## Sharing is difficult

I wonder if God looked at his creation and realized that it was worthless and
deformed, then left it to rot. I wonder because I feel mt is not worth
touching anymore. It's difficult to let it go, though. I thought it was kind of
fun, but I can see that my sentiments are not really shared. It would be vain of
me to say that only my opinion matters, but I don't think it's reasonable to say
that the game was failure just because no one really cares about it.
